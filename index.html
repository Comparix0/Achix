<script>
  const searchInput = document.getElementById("searchInput");
  const searchBtn = document.getElementById("searchBtn");
  const filters = document.querySelectorAll(".filter");

  const affiliateLink = "https://s.shopee.com.br/qcZiYzZSy";

  let selectedFilter = null;

  // Clique nos filtros
  filters.forEach(filter => {
    filter.addEventListener("click", () => {
      filters.forEach(f => f.classList.remove("active"));
      filter.classList.add("active");
      selectedFilter = filter.innerText;
      validate();
    });
  });

  // Digitação no campo
  searchInput.addEventListener("input", validate);

  function validate() {
    if (searchInput.value.trim() !== "" && selectedFilter) {
      searchBtn.classList.add("enabled");
      searchBtn.disabled = false;
    } else {
      searchBtn.classList.remove("enabled");
      searchBtn.disabled = true;
    }
  }

  // Clique no botão
  searchBtn.addEventListener("click", () => {
    if (!searchBtn.classList.contains("enabled")) return;

    // Aqui é proposital: abre o afiliado
    window.open(affiliateLink, "_blank");
  });

  // Nichos
  document.querySelectorAll(".niche").forEach(niche => {
    niche.addEventListener("click", () => {
      window.open(affiliateLink, "_blank");
    });
  });

  // Estado inicial
  searchBtn.disabled = true;
</script>
